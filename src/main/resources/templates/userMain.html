<!DOCTYPE html>

<html lang="ko" xmlns:th="http://www.thymeleaf.org">


<head>
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1.0" name="viewport">

<title>북적북적</title>

<!-- 구글폰트 -->
<link href="https://fonts.gstatic.com" rel="preconnect">
<link
	href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Nunito:300,300i,400,400i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i"
	rel="stylesheet">

<!-- 사이드바 아이콘 -->

<link th:href="@{/images/common/bootstrap-icons/bootstrap-icons.css}"
	rel="stylesheet">
<link th:href="@{/images/common/remixicon/remixicon.css}"
	rel="stylesheet">


<!--부트스트랩 외부링크-->
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
	rel="stylesheet">
<script
	src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<link th:href="@{/css/common/style.css}" rel="stylesheet">
<link th:href="@{/css/common/mainStyle.css}" rel="stylesheet">

</head>

<body>
	<div th:replace="~{/fragment/header :: header2}"></div>
	<div th:replace="/fragment/sidebar :: sidebar2"></div>

	<main id="main" class="main">
		<div class="container">
			<div class="row main-search justify-content-center">
				<!-- 왼쪽 카드들 -->
				<div class="col-md-6">
					<div class="card mb-3">
						<div class="card-body">
							<div class="d-flex align-items-center mb-2">
								<img class="search-icon me-2" th:src="@{/images/main/search-icon.png}" alt="searchBooks" style="width: 40px; height: 40px;">
								<h4 class="my-0">책을 검색해 보세요</h4>
							</div>
							<div class="row justify-content-center">
								<div class="col-8">
									<input class="form-control" type="text" placeholder="검색">
								</div>
								<div class="col-3">
									<button class="btn btn-success w-100" type="submit">검색</button>
								</div>
							</div>
						</div>
					</div>

					<div class="card">
						<div class="card-body">
							<div class="d-flex align-items-center mb-2">
								<img class="me-2" th:src="@{/images/main/groupBooks-icon.png}" alt="groupBooks" style="width: 32px; height: 32px;">
								<h4 class="mb-0">모아보기</h4>
							</div>
							<div class="d-flex align-items-center gap-2">
								<div class="dropdown">
									<button class="btn btn-sm btn-success dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
										장르별
									</button>
									<ul class="dropdown-menu">
										<li><a class="dropdown-item" href="#">Action</a></li>
										<li><a class="dropdown-item" href="#">Another action</a></li>
										<li><a class="dropdown-item" href="#">Something else here</a></li>
									</ul>
								</div>
								<div class="dropdown">
									<button class="btn btn-sm btn-success dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
										작가별
									</button>
									<ul class="dropdown-menu">
										<li><a class="dropdown-item" href="#">Action</a></li>
										<li><a class="dropdown-item" href="#">Another action</a></li>
										<li><a class="dropdown-item" href="#">Something else here</a></li>
									</ul>
								</div>
								<div class="dropdown">
									<button class="btn btn-sm btn-success dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
										지점별
									</button>
									<ul class="dropdown-menu">
										<li><a class="dropdown-item" href="#">Action</a></li>
										<li><a class="dropdown-item" href="#">Another action</a></li>
										<li><a class="dropdown-item" href="#">Something else here</a></li>
									</ul>
								</div>
							</div>

						</div>
					</div>
				</div>

				<!-- 오른쪽 카드 -->
				<div class="card col-5">
					<div class="row my-3">
						<div class="col d-flex align-items-center mb-2">
							<img class="search-icon me-2" th:src="@{/images/main/popularBooks-icon.png}" alt="검색아이콘" style="width: 40px; height: 40px;">
							<h4 class="my-0">인기 도서</h4>
							<!-- booksInfo table rent-count 의 순서를 6개만 가져와서 보여주기  -->
						</div>
					</div>
					<div id="recommendCarousel" class="carousel slide" data-bs-ride="carousel">
						<div class="carousel-inner">
							<div class="carousel-item active">
								<div class="card p-3" style="background-color: #cdeea8;">
									<h5 class="card-title">책 제목 1</h5>
									<p class="card-text">작가 이름 1</p>
								</div>
							</div>
							<div class="carousel-item">
								<div class="card p-3" style="background-color: #cdeea8;">
									<h5 class="card-title">책 제목 2</h5>
									<p class="card-text">작가 이름 2</p>
								</div>
							</div>
							<!-- 추가 도서 항목을 여기에 추가 -->
						</div>
						<button class="carousel-control-prev" type="button"
								data-bs-target="#recommendCarousel" data-bs-slide="prev">
							<span class="carousel-control-prev-icon" aria-hidden="true"></span>
							<span class="visually-hidden">Previous</span>
						</button>
						<button class="carousel-control-next" type="button"
								data-bs-target="#recommendCarousel" data-bs-slide="next">
							<span class="carousel-control-next-icon" aria-hidden="true"></span>
							<span class="visually-hidden">Next</span>
						</button>
					</div>
				</div>


			</div>
		</div>
		<!-- 메인 배너 끝 -->



		<!-- 대여 가능한 책 리스트 예시 -->
		<div class="container mt-5">
			<div class="d-flex justify-content-between align-items-center mb-2">
				<!--왼쪽: 대여 가능한 책 -->
				<div class="d-flex align-items-center">
					<img class="search-icon mx-2" th:src="@{/images/main/rentBooks-icon.png}" alt="search" style="width: 44px; height: 44px;">
					<h4 class="my-0">대여 가능한 책</h4>
				</div>

				<!--오른쪽: 마이 포인트 -->
				<div class="d-flex align-items-center">
					<img th:src="@{/images/main/myPoint-icon.png}" alt="myPoint" style="width: 32px; height: 32px;">
					<h4 class="mx-2 my-0" th:if="${userPoint != null}"> <span th:text="${userPoint}"></span>p</h4>
				</div>
			</div>
			<div class="card p-2">
				<div class="table-responsive">
					<table class="table table-hover text-center">
						<thead>
							<tr>
								<th scope="col">책 번호</th>
								<th scope="col">책 이름</th>
								<th scope="col">작가</th>
								<th scope="col">대여 가능 지점</th>
								<th scope="col">대여료</th>
							</tr>
						</thead>
						<tbody>
							<th:block th:each="books : ${booksList}">
								<tr th:attr="data-pk=${books.booksId}">
									<th th:text="${books.booksId}" scope="row">1</th>
									<td th:text="${books.getBookNum().getBookName()}"></td>
									<td th:text="${books.getBookNum().getAuthor()}"></td>
									<td th:text="${books.getStoreCode()}"></td>
									<td th:text="'₩ ' + ${#numbers.formatInteger(books.getBookNum().getRentMoney(), 3, 'COMMA')}"></td>
								</tr>
							</th:block>
						</tbody>
					</table>
				</div>

			<!-- 페이지네이션 -->
<!--			<div class="d-flex justify-content-center" th:if="${salesLogPageDTO.totalPages > 0}">-->
<!--				<ul class="pagination mb-0">-->
<!--					&lt;!&ndash; 이전 10개 묶음으로 이동 &ndash;&gt;-->
<!--					<li class="page-item" th:if="${salesLogPageDTO.currentPage >= 10}">-->
<!--						<a class="page-link" th:href="@{/sales/salesLog(page=${T(java.lang.Math).max(0, (salesLogPageDTO.currentPage / 10 - 1) * 10)})}">&lt;</a>-->
<!--					</li>-->

<!--					&lt;!&ndash; 현재 페이지 집합 (10개씩 고정) &ndash;&gt;-->
<!--					<li class="page-item"-->
<!--						th:each="i : ${#numbers.sequence((salesLogPageDTO.currentPage / 10) * 10, T(java.lang.Math).min((salesLogPageDTO.currentPage / 10 + 1) * 10 - 1, salesLogPageDTO.totalPages - 1))}"-->
<!--						th:classappend="${i == salesLogPageDTO.currentPage} ? 'active'">-->
<!--						<a class="page-link" th:href="@{/sales/salesLog(page=${i})}" th:text="${i + 1}">1</a>-->
<!--					</li>-->

<!--					&lt;!&ndash; 다음 10개 묶음으로 이동 &ndash;&gt;-->
<!--					<li class="page-item" th:if="${(salesLogPageDTO.currentPage / 10 + 1) * 10 < salesLogPageDTO.totalPages}">-->
<!--						<a class="page-link" th:href="@{/sales/salesLog(page=${(salesLogPageDTO.currentPage / 10 + 1) * 10})}">&gt;</a>-->
<!--					</li>-->
<!--				</ul>-->
<!--			</div>-->
			</div>
		</div>
	</main>

	<!-- 사이드바 열었다 닫았다 하는거 -->
	<script th:src="@{/js/common/main.js}"></script>
</body>
</html>
